(function(){const t=function(o){this.options=Object.assign(t.defaults,o),this.bodyEl=document.querySelector("body"),this.bottom=this.options.bottom,this.right=this.options.right,this.left=this.options.left,this.time=this.options.time,this.backgroundColor=this.options.backgroundColor,this.buttonColorDark=this.options.buttonColorDark,this.buttonColorLight=this.options.buttonColorLight,this.buttonShadow=this.options.buttonShadow,this.labelLight=this.options.label.light,this.labelDark=this.options.label.dark,this.saveInCookies=this.options.saveInCookies,this.autoMatchOsTheme=this.options.autoMatchOsTheme,this.onChange=this.options.onChange,this.css=`\n\t\t\t.darkmode--background, \n\t\t\t.darkmode--trigger {\n\t\t\t\tborder-radius: 50%;\n\t\t\t\theight: 3rem;\n\t\t\t\twidth: 3rem;\n\t\t\t\tbottom: ${this.bottom};\n\t\t\t\tright: ${this.right};\n\t\t\t\tleft: ${this.left};\n\t\t\t\tposition: fixed;\n\t\t\t}\n\t\t\t.darkmode--backdrop {\n\t\t\t\tbackground: ${this.backgroundColor};\n\t\t\t\ttransition: all ${this.time} ease;\n\t\t\t\tposition: fixed;\n\t\t\t\tpointer-events: none;\n\t\t\t\tz-index: -10;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t}\n\t\t\t.darkmode--background {\n\t\t\t\tbackground-color: ${this.buttonColorDark};\n\t\t\t\tposition: fixed;\n\t\t\t\tpointer-events: none;\n\t\t\t\ttransition: all ${this.time} ease;\n\t\t\t\tbox-shadow: ${this.buttonShadow};\n\t\t\t}\n\t\t\t\t.darkmode--background.darkmode--triggered {\n\t\t\t\t\tborder-radius: 0;\n\t\t\t\t\ttransform: scale(100);\n\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\tbackground-color: ${this.backgroundColor};\n  \t\t\t\t\tmix-blend-mode: difference;\n\t\t\t\t}\n\t\t\t\t.darkmode--background.darkmode--enabled {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\ttransform: scale(1) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t.darkmode--trigger {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tcolor: ${this.buttonColorLight};\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all ${this.time} ease;\n\t\t\t\tz-index: 9999;\n\t\t\t}\n\t\t\t\t.darkmode--trigger.darkmode--enabled {\n\t\t\t\t\tbackground-color: ${this.buttonColorLight};\n\t\t\t\t\tcolor: ${this.buttonColorDark};\n\t\t\t\t}\n\t\t\t\n\t\t\timg, picture, video .darkmode--ignore {\n\t\t\t\tisolation: isolate;\n\t\t\t}\n\t\t\t\n\t\t\t@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n\t\t\t\t.darkmode--toggle {display: none !important}\n\t\t\t}\n\n\t\t\t@supports (-ms-ime-align:auto), (-ms-accelerator:true) {\n\t\t\t\t.darkmode--toggle {display: none !important}\n\t\t\t}\n\n\t\t`,this.init()};t.prototype.init=function(){const t=document.createElement("link");t.rel="stylesheet",t.href="data:text/css;charset=UTF-8,"+encodeURIComponent(this.css),document.getElementsByTagName("head")[0].appendChild(t);let o=document.createElement("div");o.classList.add("darkmode--trigger"),o.setAttribute("tabindex","0"),o.setAttribute("role","button"),o.setAttribute("aria-pressed","false"),o.style.display="none",o.innerHTML=this.labelLight;let e=document.createElement("div");e.classList.add("darkmode--background"),e.style.display="none";let n=document.createElement("div");n.classList.add("darkmode--backdrop"),n.style.opacity="0",n.style.visibility="hidden",this.bodyEl.insertBefore(o,this.bodyEl.firstChild),this.bodyEl.insertBefore(e,this.bodyEl.firstChild),this.bodyEl.insertBefore(n,this.bodyEl.firstChild)},t.prototype.enable=function(){if(bodyEl=document.querySelector("body"),buttonEl=document.querySelector(".darkmode--trigger"),backgroundEl=document.querySelector(".darkmode--background"),backdropEl=document.querySelector(".darkmode--backdrop"),buttonEl.style.display="flex",backgroundEl.style.display="block",1==this.saveInCookies){const t=document.cookie.match(/^(.*;)?\s*darkmode\s*=\s*[^;]+(.*)?$/);t&&(backgroundEl.classList.add("darkmode--triggered"),buttonEl.classList.add("darkmode--enabled"),backdropEl.style.opacity="1",backdropEl.style.visibility="visible",buttonEl.innerHTML=this.labelDark,backgroundEl.classList.add("darkmode--enabled"),bodyEl.classList.add("darkmode--enabled"))}1==this.autoMatchOsTheme&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(backgroundEl.classList.add("darkmode--triggered"),backdropEl.style.opacity="1",backdropEl.style.visibility="visible",buttonEl.classList.add("darkmode--enabled"),buttonEl.innerHTML=this.labelDark,backgroundEl.classList.add("darkmode--enabled"),bodyEl.classList.add("darkmode--enabled")),buttonEl.addEventListener("click",function(){t.prototype.toggle()}),0!=this.onChange&&buttonEl.addEventListener("click",function(){t.defaults.onChange()})},t.prototype.toggle=function(){bodyEl.classList.contains("darkmode--enabled")?(1==t.defaults.saveInCookies&&(document.cookie="darkmode=on;expires=Thu,20 Nov 2018 12:00:00 UTC; path=/"),backdropEl.style.opacity="0",backdropEl.style.visibility="hidden",backgroundEl.classList.remove("darkmode--triggered"),buttonEl.classList.remove("darkmode--enabled"),bodyEl.classList.remove("darkmode--enabled"),backgroundEl.classList.remove("darkmode--enabled"),buttonEl.innerHTML=t.defaults.label.light):(1==t.defaults.saveInCookies&&(document.cookie="darkmode=on;max-age=2592000"),backgroundEl.classList.add("darkmode--triggered"),buttonEl.classList.add("darkmode--enabled"),buttonEl.innerHTML=t.defaults.label.dark,backdropEl.style.opacity="1",backdropEl.style.visibility="visible",setTimeout(function(){backgroundEl.classList.add("darkmode--enabled"),bodyEl.classList.add("darkmode--enabled")},50))},t.prototype.isEnabled=function(){return bodyEl=document.querySelector("body"),bodyEl.classList.contains("darkmode--enabled")},t.defaults={bottom:"32px",right:"32px",left:"unset",time:"300ms",backgroundColor:"#fff",buttonColorDark:"#000",buttonColorLight:"#fff",buttonShadow:"0 0.2rem 0.5rem 0.1rem rgba(0,0,0,0.4)",label:{dark:'<svg xmlns="http://www.w3.org/2000/svg" class="icon light" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z"></path><path d="M6.343 17.657l-1.414 1.414"></path><path d="M6.343 6.343l-1.414 -1.414"></path><path d="M17.657 6.343l1.414 -1.414"></path><path d="M17.657 17.657l1.414 1.414"></path><path d="M4 12h-2"></path><path d="M12 4v-2"></path><path d="M20 12h2"></path><path d="M12 20v2"></path></svg>',light:'<svg xmlns="http://www.w3.org/2000/svg" class="icon dark" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path></svg>'},saveInCookies:!1,autoMatchOsTheme:!0,onChange:!1},window.Darky=t})();